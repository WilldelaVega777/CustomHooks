//---------------------------------------------------------------------
// Imports Section
//---------------------------------------------------------------------
import { useEffect }                from 'react'
import { useRef }                   from 'react'


//---------------------------------------------------------------------
// Hook Definition Section
//---------------------------------------------------------------------
const useUpdateEffect = (callback, dependencies) => {

    //-----------------------------------------------------------------
    // Initialization Section
    //-----------------------------------------------------------------
    const firstRenderRef = useRef(true)

    //-----------------------------------------------------------------
    // Lifecycle Eventhancler Methods Section
    //-----------------------------------------------------------------
    useEffect(() => {
        if (firstRenderRef.current)
        {
            firstRenderRef.current = false
            return
        }
    }, dependencies)

    //-----------------------------------------------------------------
    // Return Section
    //-----------------------------------------------------------------
    return callback()

}


//---------------------------------------------------------------------
// Exports Section
//---------------------------------------------------------------------
export default useUpdateEffect
